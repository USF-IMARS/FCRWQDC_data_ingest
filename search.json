[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "WIN_data_ingest",
    "section": "",
    "text": "Data ingestion and initial analysis from FL WIN water quality database.\n\n\nread in the WIN txt pipe-delimited file\n# Read all lines from the file\nall_lines &lt;- readLines(\"data/_WIN_WAVES_OTIS_D_1_21FLBROW.txt\")\n\n# Locate the header line (assumes it starts with \"Organization ID\")\nheader_index &lt;- grep('^\"Organization ID\"', all_lines)[1]\n\n# Print the skipped lines (everything before the header)\ncat(\"Skipped lines:\\n\")\n\n\nSkipped lines:\n\n\nread in the WIN txt pipe-delimited file\ncat(all_lines[1:(header_index - 1)], sep = \"\\n\")\n\n\nRequested report - WIN WAVES\nORGANIZATION ID = 21FLBROW\nPROJECT ID - PROJECT NAME = PROJ-001 - Surfacewater Quality Monitoring Network\nCOUNTY = BROWARD, FLORIDA\nDEP ANALYTE GROUP = General Physical-Chemical | Field Observation | Biological | Nutrients\nDEP ANALYTE NAME - UNIT = Ammonia (N) - mg/kg | Ammonia (N) - mg/L | Nitrogen- Total Kjeldahl - mg/kg | Nitrogen- Total Kjeldahl - mg/L | Nitrate (N) - mg/L | Nitrate-Nitrite (N) - mg/kg | Nitrate-Nitrite (N) - mg/L | Nitrite (N) - mg/kg | Nitrite (N) - mg/L | Phosphorus- Total - mg/kg | Phosphorus- Total - mg/L | Turbidity - NTU | Chlorophyll a, free of pheophytin - ug/L | Nitrogen- Total - mg/L | Silica (SiO2) - mg/L | Chlorophyll a- uncorrected - ug/L | Chlorophyll a- corrected - ug/L | Ammonia- Un-ionized (NH3) - mg/L | Silicate - mg/L\nReport Run on FEBRUARY 28, 2025\nThe data you are accessing are from the WIN Warehouse.  The WIN Warehouse is refreshed on a weekly basis with new data that are submitted to WIN.  The refresh process occurs on the weekend; data uploaded to WIN through each Friday are available in the WIN Warehouse by the following Monday.  WIN replaces Florida STORET as an active data repository.  Florida STORET data are accessible through STORET Public Access (SPA).\nThe following data met your selection criteria\n\n\nread in the WIN txt pipe-delimited file\ncat(\"\\n\\n\")\n\n\nread in the WIN txt pipe-delimited file\n# Extract the header line\nheader_line &lt;- all_lines[header_index]\n\n# Determine the expected number of columns based on the header line\nexpected_cols &lt;- length(strsplit(header_line, \"\\\\|\")[[1]])\n\n# Extract all remaining lines (which may contain multi-line records)\nraw_data_lines &lt;- all_lines[(header_index + 1):length(all_lines)]\n\n# Reassemble rows by combining lines until the number of delimiters (pipes) matches expectation.\ncombined_rows &lt;- character(0)\ntemp_row &lt;- \"\"\n\nfor (line in raw_data_lines) {\n  # Start a new temporary row or append to the existing one\n  temp_row &lt;- if (temp_row == \"\") line else paste(temp_row, line, sep = \"\\n\")\n  \n  # Count the number of pipe delimiters in temp_row\n  n_delim &lt;- length(gregexpr(\"\\\\|\", temp_row)[[1]])\n  \n  # If the row has the expected number of delimiters (one less than columns), it's complete.\n  if (n_delim == (expected_cols - 1)) {\n    combined_rows &lt;- c(combined_rows, temp_row)\n    temp_row &lt;- \"\"  # Reset for the next record\n  }\n}\n\n# In case any data remains in temp_row, add it as a record\nif (temp_row != \"\") {\n  combined_rows &lt;- c(combined_rows, temp_row)\n}\n\n# Reassemble the complete text with header and data rows\nfull_text &lt;- paste(c(header_line, combined_rows), collapse = \"\\n\")\n\n# Read the data from the reassembled text\ndf &lt;- read.table(text = full_text,\n                 sep = \"|\",\n                 header = TRUE,\n                 quote = \"\\\"\",\n                 fill = TRUE,\n                 stringsAsFactors = FALSE)\n\n\n\n\nCode\n# # Print the first few rows of the dataframe\n# head(df)\n\nlibrary(pander)\n\npander(head(df), digits = 6)\n\n\n\nTable continues below\n\n\n\n\n\n\n\n\nOrganization.ID\nMonitoring.Location.ID\nWBID\nActivity.ID\n\n\n\n\n21FLBROW\n31\n3283\n200220-12:00-31S\n\n\n21FLBROW\n121\n3276\n170503-11:40-121S\n\n\n21FLBROW\n124\n3281\n190304-08:20-124S\n\n\n21FLBROW\n20\n3277A\n190905-12:50-20S\n\n\n21FLBROW\n8\n3270\n190909-13:15-8S\n\n\n21FLBROW\n124\n3281\n180625-09:10-124S\n\n\n\n\nTable continues below\n\n\n\n\n\n\n\nActivity.Type\nActivity.Start.Date.Time\nMatrix\n\n\n\n\nSample\n02/20/2020 12:00:00\nAQUEOUS-Surface Water\n\n\nSample\n05/03/2017 11:40:00\nAQUEOUS-Surface Water\n\n\nSample\n03/04/2019 08:20:00\nAQUEOUS-Surface Water\n\n\nSample\n09/05/2019 12:50:00\nAQUEOUS-Surface Water\n\n\nSample\n09/09/2019 13:15:00\nAQUEOUS-Surface Water\n\n\nSample\n06/25/2018 09:10:00\nAQUEOUS-Surface Water\n\n\n\n\nTable continues below\n\n\n\n\n\n\n\nSample.Collection.Type\nSampling.Agency.Name\nActivity.Depth\n\n\n\n\nIntermediate Grab\nBROWARD COUNTY DEP\n0.5\n\n\nIntermediate Grab\nBROWARD COUNTY DEP\n0.5\n\n\nIntermediate Grab\nBROWARD COUNTY DEP\n0.5\n\n\nIntermediate Grab\nBROWARD COUNTY DEP\n0.5\n\n\nIntermediate Grab\nBROWARD COUNTY DEP\n0.5\n\n\nIntermediate Grab\nBROWARD COUNTY DEP\n0.5\n\n\n\n\nTable continues below\n\n\n\n\n\n\n\nActivity.Depth.Unit\nActivity.Top.Depth\nActivity.Bottom.Depth\n\n\n\n\nm\nNA\nNA\n\n\nm\nNA\nNA\n\n\nm\nNA\nNA\n\n\nm\nNA\nNA\n\n\nm\nNA\nNA\n\n\nm\nNA\nNA\n\n\n\n\nTable continues below\n\n\n\n\n\n\n\nActivity.Depth.Top.Bottom.Unit\nDEP.Result.ID\nDEP.Analyte.Name\n\n\n\n\nNA\n6430405\nTurbidity\n\n\nNA\n6424852\nAmmonia (N)\n\n\nNA\n6424842\nNitrate-Nitrite (N)\n\n\nNA\n6429682\nNitrogen- Total Kjeldahl\n\n\nNA\n6424203\nNitrogen- Total Kjeldahl\n\n\nNA\n6427055\nTurbidity\n\n\n\n\nTable continues below\n\n\n\n\n\n\n\n\nDEP.Result.Value.Number\nDEP.Result.Value.Text\nDEP.Result.Unit\nDEP.MDL\n\n\n\n\n0.55\nNA\nNTU\n0.08\n\n\n0.024\nNA\nmg/L\n0.016\n\n\n0.202\nNA\nmg/L\n0.006\n\n\n1.25\nNA\nmg/L\n0.087\n\n\n1.17\nNA\nmg/L\n0.087\n\n\n2.6\nNA\nNTU\n0.1\n\n\n\n\nTable continues below\n\n\n\n\n\n\n\n\nDEP.PQL\nValue.Qualifier\nSample.Fraction\nLab.ID\n\n\n\n\n0.08\n\n\nE46053\n\n\n0.064\nI\nDissolved\nE46053\n\n\n0.024\n\nDissolved\nE46053\n\n\n0.348\n\nTotal\nE46053\n\n\n0.348\n\nTotal\nE46053\n\n\n0.4\n\n\nE46053\n\n\n\n\n\n\n\n\n\n\nResult.Comments\nAudit.Censored.Decisions\n\n\n\n\n\nNA\n\n\nA J qualifier is assigned to TPO4 due to a batch duplicate recovery outside acceptable limits (observed 35.%, limits -24.1%, reference PAL#276).\nNA\n\n\n\nNA\n\n\n\nNA\n\n\n\nNA\n\n\n\nNA"
  }
]