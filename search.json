[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "WIN_data_ingest",
    "section": "",
    "text": "Data ingestion and initial analysis from FL WIN water quality database.\n\n\nread in the WIN txt pipe-delimited file\n# Read all lines from the file\nall_lines &lt;- readLines(\"data/_WIN_WAVES_OTIS_D_1_21FLBROW.txt\")\n\n# Locate the header line (assumes it starts with \"Organization ID\")\nheader_index &lt;- grep('^\"Organization ID\"', all_lines)[1]\n\n# Print the skipped lines (everything before the header)\ncat(\"Skipped lines:\\n\")\n\n\nSkipped lines:\n\n\nread in the WIN txt pipe-delimited file\ncat(all_lines[1:(header_index - 1)], sep = \"\\n\")\n\n\nRequested report - WIN WAVES\nORGANIZATION ID = 21FLBROW\nPROJECT ID - PROJECT NAME = PROJ-001 - Surfacewater Quality Monitoring Network\nCOUNTY = BROWARD, FLORIDA\nDEP ANALYTE GROUP = General Physical-Chemical | Field Observation | Biological | Nutrients\nDEP ANALYTE NAME - UNIT = Ammonia (N) - mg/kg | Ammonia (N) - mg/L | Nitrogen- Total Kjeldahl - mg/kg | Nitrogen- Total Kjeldahl - mg/L | Nitrate (N) - mg/L | Nitrate-Nitrite (N) - mg/kg | Nitrate-Nitrite (N) - mg/L | Nitrite (N) - mg/kg | Nitrite (N) - mg/L | Phosphorus- Total - mg/kg | Phosphorus- Total - mg/L | Turbidity - NTU | Chlorophyll a, free of pheophytin - ug/L | Nitrogen- Total - mg/L | Silica (SiO2) - mg/L | Chlorophyll a- uncorrected - ug/L | Chlorophyll a- corrected - ug/L | Ammonia- Un-ionized (NH3) - mg/L | Silicate - mg/L\nReport Run on FEBRUARY 28, 2025\nThe data you are accessing are from the WIN Warehouse.  The WIN Warehouse is refreshed on a weekly basis with new data that are submitted to WIN.  The refresh process occurs on the weekend; data uploaded to WIN through each Friday are available in the WIN Warehouse by the following Monday.  WIN replaces Florida STORET as an active data repository.  Florida STORET data are accessible through STORET Public Access (SPA).\nThe following data met your selection criteria\n\n\nread in the WIN txt pipe-delimited file\ncat(\"\\n\\n\")\n\n\nread in the WIN txt pipe-delimited file\n# Extract the header line\nheader_line &lt;- all_lines[header_index]\n\n# Determine the expected number of columns based on the header line\nexpected_cols &lt;- length(strsplit(header_line, \"\\\\|\")[[1]])\n\n# Extract all remaining lines (which may contain multi-line records)\nraw_data_lines &lt;- all_lines[(header_index + 1):length(all_lines)]\n\n# Reassemble rows by combining lines until the number of delimiters (pipes) matches expectation.\ncombined_rows &lt;- character(0)\ntemp_row &lt;- \"\"\n\nfor (line in raw_data_lines) {\n  # Start a new temporary row or append to the existing one\n  temp_row &lt;- if (temp_row == \"\") line else paste(temp_row, line, sep = \"\\n\")\n  \n  # Count the number of pipe delimiters in temp_row\n  n_delim &lt;- length(gregexpr(\"\\\\|\", temp_row)[[1]])\n  \n  # If the row has the expected number of delimiters (one less than columns), it's complete.\n  if (n_delim == (expected_cols - 1)) {\n    combined_rows &lt;- c(combined_rows, temp_row)\n    temp_row &lt;- \"\"  # Reset for the next record\n  }\n}\n\n# In case any data remains in temp_row, add it as a record\nif (temp_row != \"\") {\n  combined_rows &lt;- c(combined_rows, temp_row)\n}\n\n# Reassemble the complete text with header and data rows\nfull_text &lt;- paste(c(header_line, combined_rows), collapse = \"\\n\")\n\n# Read the data from the reassembled text\ndf &lt;- read.table(text = full_text,\n                 sep = \"|\",\n                 header = TRUE,\n                 quote = \"\\\"\",\n                 fill = TRUE,\n                 stringsAsFactors = FALSE)\n\n# Print the first few rows of the dataframe\nhead(df)\n\n\n  Organization.ID Monitoring.Location.ID  WBID       Activity.ID Activity.Type\n1        21FLBROW                     31  3283  200220-12:00-31S        Sample\n2        21FLBROW                    121  3276 170503-11:40-121S        Sample\n3        21FLBROW                    124  3281 190304-08:20-124S        Sample\n4        21FLBROW                     20 3277A  190905-12:50-20S        Sample\n5        21FLBROW                      8  3270   190909-13:15-8S        Sample\n6        21FLBROW                    124  3281 180625-09:10-124S        Sample\n  Activity.Start.Date.Time                Matrix Sample.Collection.Type\n1      02/20/2020 12:00:00 AQUEOUS-Surface Water      Intermediate Grab\n2      05/03/2017 11:40:00 AQUEOUS-Surface Water      Intermediate Grab\n3      03/04/2019 08:20:00 AQUEOUS-Surface Water      Intermediate Grab\n4      09/05/2019 12:50:00 AQUEOUS-Surface Water      Intermediate Grab\n5      09/09/2019 13:15:00 AQUEOUS-Surface Water      Intermediate Grab\n6      06/25/2018 09:10:00 AQUEOUS-Surface Water      Intermediate Grab\n  Sampling.Agency.Name Activity.Depth Activity.Depth.Unit Activity.Top.Depth\n1   BROWARD COUNTY DEP            0.5                   m                 NA\n2   BROWARD COUNTY DEP            0.5                   m                 NA\n3   BROWARD COUNTY DEP            0.5                   m                 NA\n4   BROWARD COUNTY DEP            0.5                   m                 NA\n5   BROWARD COUNTY DEP            0.5                   m                 NA\n6   BROWARD COUNTY DEP            0.5                   m                 NA\n  Activity.Bottom.Depth Activity.Depth.Top.Bottom.Unit DEP.Result.ID\n1                    NA                             NA       6430405\n2                    NA                             NA       6424852\n3                    NA                             NA       6424842\n4                    NA                             NA       6429682\n5                    NA                             NA       6424203\n6                    NA                             NA       6427055\n          DEP.Analyte.Name DEP.Result.Value.Number DEP.Result.Value.Text\n1                Turbidity                   0.550                    NA\n2              Ammonia (N)                   0.024                    NA\n3      Nitrate-Nitrite (N)                   0.202                    NA\n4 Nitrogen- Total Kjeldahl                   1.250                    NA\n5 Nitrogen- Total Kjeldahl                   1.170                    NA\n6                Turbidity                   2.600                    NA\n  DEP.Result.Unit DEP.MDL DEP.PQL Value.Qualifier Sample.Fraction Lab.ID\n1             NTU   0.080   0.080                                 E46053\n2            mg/L   0.016   0.064               I       Dissolved E46053\n3            mg/L   0.006   0.024                       Dissolved E46053\n4            mg/L   0.087   0.348                           Total E46053\n5            mg/L   0.087   0.348                           Total E46053\n6             NTU   0.100   0.400                                 E46053\n                                                                                                                                   Result.Comments\n1                                                                                                                                                 \n2 A J qualifier is assigned to TPO4 due to a batch duplicate recovery outside acceptable limits (observed 35.%, limits -24.1%, reference PAL#276).\n3                                                                                                                                                 \n4                                                                                                                                                 \n5                                                                                                                                                 \n6                                                                                                                                                 \n  Audit.Censored.Decisions\n1                       NA\n2                       NA\n3                       NA\n4                       NA\n5                       NA\n6                       NA"
  }
]